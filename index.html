<!doctype html>
<html>

<head>
	<!-- TODO: reformat document -->
	<!-- TODO: add background image? -->
	<meta charset="utf-8">
	<title>A Harry Potter journey</title>
	<meta name="author" content="Emna Fendri, Stephane Selim and Alessio Verardo">
	<meta name="description" content="Visualisation of the Harry Potter universe">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="Harry Potter, Visualisation, Vizualisation, Com-480, Data Visualisation">
	<link rel="icon" href="data/images/houses_logo/hogwarts.png" type="image/png">
	<!-- Libraries scripts-->
	<script src="js/constantes.js" type="text/javascript"></script>
	<!-- Script for google vizualization-->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="js/scrolloverflow.min.js"></script>
	<script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>
	<script src="js/fullpage2.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/d3.min.js"></script>
	<!--<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
	<!-- Script for word cloud functionality https://github.com/jasondavies/d3-cloud/blob/master/build/d3.layout.cloud.js -->
	<script src="js/d3.layout.cloud.js"></script>
	<script src="https://unpkg.com/d3-sankey@0"></script>
	<!-- Custom scripts-->
	<script src="js/hogwarts_houses.js"></script>
	<script type="text/javascript" src="js/introduction.js"></script>

	<!-- Custom Stylesheets -->
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/hogwarts_houses.css">
	<link rel="stylesheet" href="css/char_networks.css">
	<link rel="stylesheet" href="css/spell_by_books.css">
	<link rel="stylesheet" href="css/sentiment_analysis.css">

	<!-- Libraries stylesheets -->
	<link rel="stylesheet" href="css/fullpage.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/fontawesome.min.css">
	<link rel="stylesheet" href="css/books.css" />
</head>

<body>
	<div id="loading-screen" style="
        position: absolute;
        width: 100vw;
        height: 100vh;
        top: 0;
        right: 0;
        z-index: 1000;
        background: black;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;">
	</div>
	<div id="audioContainer">
		<audio id="audio" style="visibility: hidden;"></audio>
		<input type="hidden" value="Play the music" id="audioCtrl">
		<div id="audioControl"><i class="fa-solid fa-backward" onclick="handlePrevious()"></i><i id="playBtn"
				class="fa-solid fa-play" style="display: inline-block;" onclick="handleMainButton()"></i><i
				class="fa-solid fa-pause" id="pauseBtn" style="display: none;" onclick="handleMainButton()"></i><i
				class="fa-solid fa-forward" onclick="handleNext()"></i></div>
		<div id="audioTitle">
			<h1></h1>
		</div>
		<div id="audioArtist">
			<h1></h1>
		</div>
	</div>

	<!-- Modal used to diplay character information, by default it is hidden -->
	<div class="modal fade" id="myModal">
		<div class="modal-dialog modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body col-12">
					<div class="container-fluid">
						<div id="char_info">
							<img src="" id="char_picture">
							<h3 id="char_name"></h3>
							<div id="char_infos">
								<div class="form-group row">
									<label for="char_birthday" class="col-1 col-form-label"><i
											class="fa-solid fa-cake-candles"></i></label>
									<div class="col-11">
										<input type="text" class="form-control" id="char_birthday" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_death" class="col-1 col-form-label"><i
											class="fa-solid fa-skull"></i></label>
									<div class="col-11">
										<input type="text" class="form-control" id="char_death" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_wand" class="col-4 col-form-label"><i
											class="fa-solid fa-wand-sparkles"></i> Wand</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_wand" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_patronus" class="col-4 col-form-label"><i
											class="fa-solid fa-paw"></i> Patronus</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_patronus" autocomplete="off"
											disabled="disabled">
									</div>
								</div>

								<div class="form-group row">
									<label for="char_house" class="col-4 col-form-label"><i
											class="fa-solid fa-house"></i> House</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_house" autocomplete="off"
											disabled="disabled">
									</div>
								</div>

								<div class="form-group row">
									<label for="char_species" class="col-4 col-form-label">Species</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_species" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_gender" class="col-4 col-form-label">Gender</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_gender" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_hair" class="col-4 col-form-label">Hair color</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_hair" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_eye" class="col-4 col-form-label">Eye color</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_eye" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="form-group row">
									<label for="char_blood" class="col-4 col-form-label"><i
											class="fa-solid fa-droplet"></i> Blood type</label>
									<div class="col-8">
										<input type="text" class="form-control" id="char_blood" autocomplete="off"
											disabled="disabled">
									</div>
								</div>
								<div class="row">
									<label for="char_book_in" class="col-form-label"><span class="bold">Books featured
											in :</span> </label>
									<ul class="list-group" id="char_book_in">
									</ul>
								</div>
								<div class="row">
									<label for="char_assoc_in" class="col-form-label"><span class="bold">Association
											characters in : </span></label>
									<ul class="list-group" id="char_assoc_in">
									</ul>
								</div>
								<div class="row">
									<label for="char_interact_with" class="col-form-label"><span class="bold">Other
											character interactions</span></label>
									<ul class="list-group" id="char_interact_with">
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer" id="char_info_footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
							id="close_modal">Close</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<div id="wrapper">
		<div class="section" data-anchor="Title">
			<svg width="586" height="400" xmlns="http://www.w3.org/2000/svg">
				<g>
					<ellipse stroke-width="20" ry="72" rx="72" cy="270" id="hp1" cx="171" stroke="#fff" fill="#000" />
					<ellipse stroke-width="20" ry="72" rx="72" cy="270" id="hp3" transform="rotate(192,390.0091,270)"
						cx="390.00912" stroke="#fff" fill="#000" />
					<path id="hp2" d="m239,247c36,-26 85,-1 85,-1" opacity="NaN" stroke-width="20" stroke="#fff"
						fill="#000" />
					<path id="hp4"
						d="m176.54311,41.80681l20.31907,37.15581l-8.37838,4.38497l25.58558,31.83439l-8.37462,5.31647l31.62913,53.30836l-53.64864,-40.85207l10.23273,-5.67321l-33.33333,-26.16614l11.94444,-8.08618l-35.19519,-27.44942l39.21921,-23.77298z"
						stroke-width="0" stroke="#e6b905" fill="#e6b905" />
				</g>
			</svg><br>
			<a href="#Introduction">
				<svg xmlns="http://www.w3.org/2000/svg" width="80" height="120" id="arrow" viewBox="0 0 122.91 110.38">
					<path id="hg2" transform="rotate(90 44.0126 61.8)" stroke-width="5"
						d="m49.26179,61.79999l-30.74921,-40.20003l20.25078,0l30.74921,40.20003l-30.74921,40.49999l-20.25078,0l30.74921,-40.49999z"
						stroke="#fff" fill="#fff" />
					<path id="hg1" transform="rotate(90 44.0126 27.8)" stroke-width="5"
						d="m49.26179,27.79999l-30.74921,-40.20003l20.25078,0l30.74921,40.20003l-30.74921,40.49999l-20.25078,0l30.74921,-40.49999z"
						stroke="#fff" fill="#fff" />
					<path id="hg3" transform="rotate(90 44.013 96.8)" stroke-width="5"
						d="m49.26179,96.79999l-30.74921,-40.20003l20.25078,0l30.74921,40.20003l-30.74921,40.49999l-20.25078,0l30.74921,-40.49999z"
						stroke="#fff" fill="#fff" />
				</svg>
			</a>
		</div>
		<div class="section" data-anchor="Introduction">
			<div class="slide" data-anchor="Introduction-1">
				<div class="container text-center">
					<!-- TODO: maybe add background img in Introduction? -->
					<img src="data/images/hp_logo/Harry_Potter.webp" alt="Harry Potter Logo" />
					<p class="lead">Step into the magical world of Harry Potter. Explore the characters, books, movies
						and everything in between. The wizarding world is your oyster! <br><br>

						You're going to need your broom (meaning keyboard and mouse) to navigate through this amazing
						journey. First stop is on the right, where you'll find the gallery of books by JK. Rowling that
						kickstarted the whole universe. After that, the Warner Bros. motion pictures
						that brought the same magic on the big screen over 20 years ago.
					</p>
					<div class="row">
						<div class="col">
							<div class="card h-100 bg-secondary key-figure-container">
								<h5 class="card-img-top text-dark">Books</h5>
								<p class="card-text key-figures"></p>
							</div>
						</div>
						<div class="col">
							<div class="card h-100 bg-secondary key-figure-container">
								<h5 class="card-img-top text-dark">Units Sold (Mil)</h5>
								<p class="card-text key-figures"></p>
							</div>
						</div>
						<div class="col">
							<div class="card h-100 bg-secondary key-figure-container">
								<h5 class="card-img-top text-dark">Languages</h5>
								<p class="card-text key-figures"></p>
							</div>
						</div>
						<div class="col">
							<div class="card h-100 bg-secondary key-figure-container">
								<h5 class="card-img-top text-dark">Movies</h5>
								<p class="card-text key-figures"></p>
							</div>
						</div>
						<div class="col">
							<div class="card h-100 bg-secondary key-figure-container">
								<h5 class="card-img-top text-dark">Box Office ($Mil)</h5>
								<p class="card-text key-figures"></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="Introduction-2">
				<h3 class="slideTitle">Book Collection</h3>
				<h5>Hover over each book to find out more about it</h5>
				<div class="gallery-top-row">
					<div class="book-frame">
						<!-- TODO: Add border magic -->
						<!-- TODO: Add trailing cursor -->
						<img src="assets/Harry-Potter-alphabet-banner-1.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp1.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Philosopher's Stone
							</p>
							<ul id="book-1" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-2.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp2.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Chamber of Secrets
							</p>
							<ul id="book-2" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-3.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp3.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and Prisoner of Azkaban
							</p>
							<ul id="book-3" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-4.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp4.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Goblet of Fire
							</p>
							<ul id="book-4" class="book-details">

							</ul>
						</div>
					</div>
				</div>
				<div class="gallery-bottom-row">
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-5.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp5.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Order of the Phoenix
							</p>
							<ul id="book-5" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-6.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp6.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Half-Blood Prince
							</p>
							<ul id="book-6" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="assets/Harry-Potter-alphabet-banner-7.png" class="thumbnail-banner" />
						<img src="data/images/book_cover/hp7.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Deathly Hallows
							</p>
							<ul id="book-7" class="book-details">

							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="Introduction-3">
				<h3 class="slideTitle">Movie Collection</h3>
				<h5>Hover over each movie to find out more about it</h5>
				<div class="gallery-top-row">
					<div class="book-frame">
						<img src="data/images/movies/hp1.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Philosopher's Stone
							</p>
							<ul id="movie-1" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp2.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Chamber of Secrets
							</p>
							<ul id="movie-2" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp3.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and Prisoner of Azkaban
							</p>
							<ul id="movie-3" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp4.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Goblet of Fire
							</p>
							<ul id="movie-4" class="book-details">

							</ul>
						</div>
					</div>
				</div>
				<div class="gallery-bottom-row-2">
					<div class="book-frame">
						<img src="data/images/movies/hp5.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Order of the Phoenix
							</p>
							<ul id="movie-5" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp6.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Half-Blood Prince
							</p>
							<ul id="movie-6" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp7.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Deathly Hallows Part 1
							</p>
							<ul id="movie-7" class="book-details">

							</ul>
						</div>
					</div>
					<div class="book-frame">
						<img src="data/images/movies/hp8.jpeg" class="book" />
						<div class="book-description">
							<p class="book-title">
								Harry Potter and the Deathly Hallows Part 2
							</p>
							<ul id="movie-8" class="book-details">

							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="section" data-anchor="Hogwarts">
			<div class="slide" data-anchor="Hogwarts-1">
				<h3 class="slideTitle">Hogwarts houses</h3>
				<div class="container">
					<p style="margin: 2%;">Around their eleventh birthday, the British witches and wizards who have demonstrated magical
						abilities, receive their admission letter from the renowned School of Witchcraft and Wizardry,
						Hogwarts. On September first, After having taken the Hogwarts Express at 11am precisely on
						King's cross 9 3/4' platform, they arrive at this beautiful castle.</p><br><br>
					<img class="img-fluid mw-45 websiteImg" src="images/hogwarts.webp">
					<!--<img src="/images/sorting_hat.png" class="img-fluid mw-45 websiteImg">--><br>
					<p style="margin: 2%;">Before their first dinner, they'd be sorted out by the <span style="font-style:italic;">Sorting
							Hat</span> into one of the 4 Hogwarts houses, named after the 4 founders of the school and
						most amazing wizards and witches of their time: <span style="font-style:italic;">Godric
							Gryffindor, Rowena Ravenclaw, Helga Hufflepuff or Salazar Slytherin</span>. In Harry
						Potter's first year, 40 students, 10 per houses, were sorted out by the hat. It means that each
						year Hogwarts has around 280 students. They might be hard to track of and that's why, in this
						first visualisation, we let you explore the Hogwarts houses and the characters that belongs to
						them, from the main characters of the Harry Potter saga.</p>
				</div>
			</div>
			<div class="slide" data-anchor="Hogwarts-2">
				<div class="col-12">
					<h3 class="slideTitle">Select your house</h3>
					<p>Click on one house to dive into it and explore the characters sorted in it.</p><br>
					<div class="col-5 hogwarts-logo">
						<a href="index.html#Hogwarts/Hogwarts-3" onclick="redirectAnalyze('gryffindor')">
							<img class="img-fluid mw-100 hogwarts-logo-img"
								src="data/images/houses_logo/gryffindor.png">
						</a>
					</div>
					<div class="col-5 hogwarts-logo">
						<a href="index.html#Hogwarts/Hogwarts-3" onclick="redirectAnalyze('ravenclaw')">
							<img class="img-fluid mw-100 hogwarts-logo-img" src="data/images/houses_logo/ravenclaw.png">
						</a>
					</div>
					<div class="col-5 hogwarts-logo">
						<a href="index.html#Hogwarts/Hogwarts-3" onclick="redirectAnalyze('hufflepuff')">
							<img class="img-fluid mw-100 hogwarts-logo-img"
								src="data/images/houses_logo/hufflepuff.png">
						</a>
					</div>
					<div class="col-5 hogwarts-logo">
						<a href="index.html#Hogwarts/Hogwarts-3" onclick="redirectAnalyze('slytherin')">
							<img class="img-fluid mw-100 hogwarts-logo-img" src="data/images/houses_logo/slytherin.png">
						</a>
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="Hogwarts-3">
				<input type="hidden" id="analyzedHouse" value="">
				<div id="hogwarts_house_display" class="col-12" style="width: 100%;height: 100%;">
					<h3 id="house_name"></h3>
					<h5 id="house_description"></h5>
				</div>
			</div>
		</div>
		<div class="section" data-anchor="Characters">
			<div class="slide" data-anchor="Characters-1">
				<h3 class="slideTitle">Exploring Inner Circles</h3>
				<div class="container text-center">
					<p>Have you ever wondered in which group were Fred Weasley and Angeline Johnson before getting
						married? Better yet, can you name all the members of the Order of the Phoenix during the first
						war against Vold.... hem, <span style="font-weight:bold;"> He-Who-Must-Not-Be-Named</span> ?</p>
					<!-- https://europeanfilmawards.eu/en_EN/film/harry-potter-and-the-order-of-the-phoenix.5121 -->
					<img class="img-fluid mw-45 websiteImg" src="images/order_of_the_phoenix.jpg">
					<p style="margin: 1%;">
						Well in Harry Potter, as in every such saga spanning several years and a lot of different
						events, keeping track of everyone's group affiliations is really hard. They contain complex
						social relations that can span a huge periods of time.<br>

						To help you understand these affiliations, we give you the possibility to interactively explore
						a subset of the different Harry Potter association groups. You can check their members and the
						different associations in common between multiple characters. We did not include Hogwarts houses
						since they were already shown in a former visualisations. But if you miss Hogwarts already
						scroll back! You can always come back later.</p>
				</div>
			</div>
			<div class="slide" data-anchor="Characters-2">
				<h3 class="slideTitle">Cheat Sheet for exploring the graph to its fullest</h3>
				<div class="container text-center">
					<div class="col-5 inline-block" style="text-align: left;">
						<ul class="list-group">
							<li>Click on node: select character and neighbours.</li>
							<li>Double click on node: display a character's bio.</li>
							<li>Click on background: deselect all nodes.</li>
							<li>Click on multiple nodes: display the associations in common between them.</li>
							<li>Click on menu on the right: hide or show associations.</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="Characters-3" id="explore-char">
				<h3 class="slideTitle">Exploring character groups</h3>
				<div id="search-char-cont" style="margin-bottom: 20px;">
					<h4 class="inline-block col-3">Search for a character</h4>
				</div>
				<div id="sigma-container" class="col-8 inline-block"></div>
				<div id="filter-menu" class="col-3 inline-block"></div>
				<div id="common-association" class="col-12">
					<div class="col-12 inline-block">
						<h5>Group in common between the selected characters</h5>
						<ul id="common-association-list" class="list-group  list-group-horizontal"></ul>
					</div>
				</div>
			</div>
		</div>
		<div class="section" data-anchor="Magical-World">
			<div class="slide" data-anchor="Magical-World-1">
				<h3 class="slideTitle">Exploring Wands and Spells </h3>
				<div class="container">
					<img class="img-fluid mw-45 websiteImg" src="images/wands.jpeg" style="max-width: 500px;">
					<p style="margin: 1%;">
						Each wand of the wizarding world consists of a type of wood surrounding a core magical substance. Whether it's Ollivander or Gregorovitch who built the wand, the core magical substance doesn't change too much whereas the wood can make the wand much more unique. Our next tool will help us see the core components of the wand of 17 main characters of the saga.
					</p>
				</div>
			</div>
			<div class="slide" data-anchor="Magical-World-2">
				<div class="container">
					<h2 class="slideTitle">Exploring wands</h2>
					<div id="sankey" style="width: 100%; height: 500px;"></div>
				</div>
			</div>
			<div class="slide" data-anchor="Magical-World-3">
				<div class="container">
					<h2 class="slideTitle">Exploring the casted spells</h2>
					<div id="piechart" style="width: 100%; height: 500px;"></div>
					<p>
						Do you know which are the most used spells throughout the books? And to which category do they belong to? With our tool, we let you interactively explore the distribution of cast spells across categories. 
						Think about it. Does this distribution makes sense after having seen or read the Harry Potter saga? Do you know when each type of spell is used the most?
						All the answers will be given in a more fine-grained visualization allowing you to know exactly which spell has been cast and when throughout the books.
					</p>
				</div>
			</div>
		</div>
		<div class="section" data-anchor="deep">
			<div class="slide" data-anchor="deep-1">
				<div class="container text-center">
					<h2 class="slideTitle">Word Cloud per Book</h2>
					<p style="margin: 2%;">
						How good do you think you are at Harry Potter Lore? Think you can manage to identify THE most
						important words that best describes one of the books? We already did it for you in an
						interactive word cloud.
						In the next display, you will see a list of the Harry Potter books. Hover over one of them to
						see the associated word cloud change interactively.
					</p>

					<!-- https://harrypotter.fandom.com/wiki/Memory_extraction_spell -->
					<img class="img-fluid mw-45 websiteImg" src="images/dumbledore_memories.webp">

					<p style="margin: 2%;">
						Test yourself. Let's how expert you are at the Harry Potter Lore. Given a word cloud, you should
						have a pretty good idea which book this word cloud is associated to.
					</p>
				</div>
			</div>
			<div class="slide" data-anchor="deep-2">
				<div class="container">
					<h2 class="slideTitle"> Word Clouds </h2>
					<div id="wordcloud"> </div>
					<!-- TODO: add to change number of words? -->
					<!-- TODO: add scrolldown menu to choose type of words (tf-ids, frequents etc..) -->
					<div id="mini-book-gallery" class="gallery-top-row">
						<img src="data/images/book_cover/hp1.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 0)" />
						<img src="data/images/book_cover/hp2.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 1)" />
						<img src="data/images/book_cover/hp3.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 2)" />
						<img src="data/images/book_cover/hp4.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 3)" />
						<img src="data/images/book_cover/hp5.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 4)" />
						<img src="data/images/book_cover/hp6.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 5)" />
						<img src="data/images/book_cover/hp7.jpeg" class="mini-book"
							onmouseover="showNewWords(myWordCloud, 6)" />
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="deep-3">
				<div class="container text-center">
					<h2 class="slideTitle">Spell Launched per book</h2>
					<img class="img-fluid mw-45 websiteImg" src="images/harry_potter_spell.jpg">
					<p style="margin: 2%;">
						What defines magic in the Harry Potter World? The wand. Every witch and wizard should have one
						in order to learn how to control magic.
						This learning process comes along with a lot of different spells along the way. As you have
						previously seen,
						spells can be of any type and there is a huge amount of them. Ever wondered how many times and
						at which point
						in time in the saga each spell has been casted ? The next visualization will exactly answer this
						question.<br><br>
						You will be able to see a timeline with all the times each of 20 most used spells has been
						casted during the Harry Potter saga.
						By hovering the different circles, you will be able to see the context in which the spell has
						been casted.
						Furthermore, the books have been color-coded. To be more precise on which circle to hover, you
						can click and drag to zoom inside the timeline.
					</p>
				</div>
			</div>
			<div class="slide" data-anchor="deep-4">
				<div class="container text-center">
					<div id="spellByBook">
						<h2 class="slideTitle">Spell cast per book</h2>
						<div id="spellByBookContainer" style="width:100%;height:80%"></div>
					</div>
				</div>
			</div>
			<div class="slide" data-anchor="deep-5">
				<div class="container text-center">
					<h2 class="slideTitle">Sentiment analysis</h2>
					<img class="img-fluid mw-45 websiteImg"
						src="images/Harry-Potter-Second-Houses-Voldemort-Cropped.webp">
					<p style="margin: 2%;">
						What do you think is the most prominent emotion in the entire Harry Potter saga? <br><br>
						Is it happiness? Death as suggested by J.K. Rowling herself? One of the most famous theories is
						that each of
						the Harry Potter book is one of seven steps of grief. Can we feel it in the books? Does Machine
						Learning suggest that indeed the global emotion is going down over time?<br><br>
						To answer all of these questions, we present to you our most advanced visualization. It will let
						you explore different emotions impregnated in the series.
						This visualization is split into different parts. You have the possibility to select one movie
						and then a particular chapter of it. Simply hover over the image display, you'll find the
						different scenes of the selected movie and what part of the global emotion plot it represents.
						By clicking on one scene, you will access to the different characters starred in that scene and
						their dialogues will be displayed in the emotion anaylsis plot. Select and explore, see the
						emotions given by your favorite character or scene, this visualization has a lot of combinations
						and resources, go wild!
					</p>
				</div>
			</div>
			<div class="slide" data-anchor="deep-6">
				<div id="sentimentAnalysis" style="width:100%;height:100%">
					<h2 class="slideTitle">Select your favorite movie</h2>
					<div class="btn-group" role="group" aria-label="check_group">
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp1" autocomplete="off"
							onclick="displayMovie(1)" checked>
						<label class="btn btn-outline-secondary" for="btn_hp1">Harry Potter and the Philosopher's
							Stone</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp2" autocomplete="off"
							onclick="displayMovie(2)">
						<label class="btn btn-outline-secondary" for="btn_hp2">Harry Potter and the Chamber of
							Secrets</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp3" autocomplete="off"
							onclick="displayMovie(3)">
						<label class="btn btn-outline-secondary" for="btn_hp3">Harry Potter and the Prisoner of
							Azkaban</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp4" autocomplete="off"
							onclick="displayMovie(4)">
						<label class="btn btn-outline-secondary" for="btn_hp4">Harry Potter and the Goblet of
							Fire</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp5" autocomplete="off"
							onclick="displayMovie(5)">
						<label class="btn btn-outline-secondary" for="btn_hp5">Harry Potter and the Order of the
							Phoenix</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp6" autocomplete="off"
							onclick="displayMovie(6)">
						<label class="btn btn-outline-secondary" for="btn_hp6">Harry Potter and the Half-Blood
							Prince</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp7" autocomplete="off"
							onclick="displayMovie(7)">
						<label class="btn btn-outline-secondary" for="btn_hp7">Harry Potter and the Deathly Hallows Part
							1</label>
						<input type="radio" class="btn-check" name="btnradio" id="btn_hp8" autocomplete="off"
							onclick="displayMovie(8)">
						<label class="btn btn-outline-secondary" for="btn_hp8">Harry Potter and the Deathly Hallows Part
							2</label>
					</div>
					<h4 class="slideSubtitle">Hover over the image and click to select your favorite scene in the movie
					</h4>

					<svg id="sentimentAnalysisMenu"></svg>
					<h4 class="slideSubtitle">Characters in the scene</h4>
					<div id="charInScene" style="width:100%;height:10%;"></div>
					<h4 class="slideSubtitle">Sentiment analysis</h4>
					<div id="sentimentAnalysisPlot" style="width:100%;"></div>
				</div>
			</div>
		</div>
		<div class="section" data-anchor="About">
			<h3>Thank your for taking part of this journey.
				<h2 id="ml3">A Harry Potter Journey created by Emna Fendri, Stephane Selim and Alessio Verardo.</h2>
				<!-- Add data provenance-->
				<p>You can find all the source code and data we used in <a
						href="https://github.com/DataViziosa/PotterViz">our github repository</a></p>
		</div>
	</div>
	<script>
		$(document).ready(function () {
			$('#wrapper').fullpage({
				licenseKey: "gplv3-license",
				anchors: ['Title', 'Introduction', 'Hogwarts', 'Characters', 'Magical-World', 'deep', 'About'], // div data-anchor to link navigation to div
				sectionsColor: ['black', 'black', 'black', 'black', 'black', 'black', 'black'], // the background color of each section
				navigationPosition: "right", //set the navigation to the right of the images
				autoScrolling: true, // scroll full slide and not half of them
				navigation: true, // Disoplay the dots for vertical navigation
				showActiveTooltip: true, // Show the name of the section on the navigation bar
				slidesNavigation: true, // display the dots for horizontal navigation
				slidesNavPosition: "bottom", // set the position of the horizontal navigation dots
				normalScrollElements: '.modal, #spellByBook, #sigma-container,#filter-menu, #charInScene', // Put the div id in which we want to block fullpage js scrolling
				fitToSection: true,
				navigationTooltips: [
					"Title",
					"Introduction",
					"Hogwarts Houses",
					"Characters",
					"Magical World",
					"Going deeper",
					"About",
				],
				controlArrows: false, // disable arrow for hroizontal navigation as they were superposed with the navigation tools
				showActiveTooltip: false,
				afterLoad: function (origin, destination, direction, trigger) {

				},
				afterSlideLoad: function (section, origin, destination, direction, trigger) {
					//allow us to make some action after we move to some slide
					// See https://github.com/alvarotrigo/fullPage.js#callbacks for documentation
					if (destination.anchor === "Hogwarts-3") {
						// If the page Hogwarts-3 (bubble chart) is load without having selected a house, we redirect the user to the house selection page.
						if ($("#analyzedHouse").val() === "") {
							window.location.href = base_path + "index.html#Hogwarts/Hogwarts-2" //base_path+"index.html#Hogwarts/Hogwarts-2";
						}
					} else if (destination.anchor === "Introduction-1") {
						displayKeyFigures()
					}
				},
				afterRender: () => {
					const loadingScreen = d3.select('#loading-screen');

					loadingScreen
						.transition()
						.duration(2000)
						.style('opacity', 0)
						.on('end', () => loadingScreen.style('display', 'none'));
				}
			})
		})

	</script>
	<script src="https://cdn.anychart.com/releases/v8/js/anychart-core.min.js"></script>
	<script src="https://cdn.anychart.com/releases/v8/js/anychart-sankey.min.js"></script>
	<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-pie.min.js"></script>
	<script>
		var images = [];
		function preload(list) {
			for (var i = 0; i < list.length; i++) {
				images[i] = new Image();
				images[i].src = list[i];
			}
		}

		d3.json("data/cleaned/selected_chars.json").then(data => {
			var list = data.map(d => "data/images/characters/" + d.image_name + ext_img)
			preload(list)
		})


		anychart.onDocumentReady(function () {
			var data = [
				{ from: "Albus Dumbledore", to: "Thestral tail hair", weight: 1, wand: "15\", Thestral tail hair, Elder wood", note: "The Elder Wand, one of the Deathly Hallows. Also known as the Deathstick and the Wand of Destiny." },
				{ from: "Bellatrix Lestrange", to: "Dragon heartstring", weight: 1, wand: "12.75\", Dragon heartstring, Walnut wood", note: "This wand is described as 'unyielding;' passed into the possession of Hermione Granger after the Skirmish at Malfoy Manor in 1998." },
				{ from: "Cedric Diggory", to: "Unicorn hair", weight: 1, wand: "12.25\", Unicorn hair, Ash wood", note: "This wand was 'pleasantly springy'; hair from particularly fine male unicorn (seventeen hands high), which nearly gored Mr Ollivander with its horn after he plucked its tail hair." },
				{ from: "Celestina Warbeck", to: "Unicorn hair", weight: 1, wand: "10.5\", Phoenix feather, Larch wood", note: "Celestina Warbeck's wand is mentioned in the lyrics of the title track of her best-selling album, You Stole My Cauldron but You Can't Have my Heart." },
				{ from: "Dolores Umbridge", to: "Dragon heartstring", weight: 1, wand: "8\", Dragon heartstring, Birch wood", note: "This wand is described as 'unusually short;' broken by a centaur's hoof in June 1996 in the Forbidden Forest" },
				{ from: "Draco Malfoy", to: "Unicorn hair", weight: 1, wand: "10\", Unicorn hair, Hawthorn wood", note: "This wand passed into the possession of Harry Potter after the Skirmish at Malfoy Manor in 1998 until Harry came into possession of the Elder Wand and mended his first wand." },
				{ from: "Fleur Delacour", to: "Veela hair", weight: 1, wand: "9.5\", Veela hair, Rosewood wood", note: "In this wand the core is a hair from Fleur's grandmother, who was a Veela." },
				{ from: "Harry Potter", to: "Phoenix feather", weight: 1, wand: "11\", Phoenix feather, Holly wood", note: "Brother to Voldemort's wand — the core tail feathers are both from Fawkes;" },
				{ from: "Garrick Ollivander", to: "Dragon heartstring", weight: 1, wand: "12.75\", Dragon heartstring, Hornbeam wood" },
				{ from: "Hermione Granger", to: "Dragon heartstring", weight: 1, wand: "10.75\", Dragon heartstring, Vine wood", note: "This wand was confiscated when the trio was captured by Snatchers in 1998." },
				{ from: "Horace Slughorn", to: "Dragon heartstring", weight: 1, wand: "10.25\", Dragon heartstring, Cedar wood", note: "" },
				{ from: "Lucius Malfoy", to: "Dragon heartstring", weight: 1, wand: "18\", Dragon heartstring, Elm wood", note: "This wand was kept in a snake-headed walking stick that Lucius carried; 'borrowed' by Lord Voldemort and destroyed by Harry Potter's wand during the Battle of the Seven Potters in 1997." },
				{ from: "Minerva McGonagall", to: "Dragon heartstring", weight: 1, wand: "9.5\", Dragon heartstring, Fir wood", note: "This wand was most likely purchased from Ollivanders in 1947 when she was eleven almost twelve." },
				{ from: "Neville Longbottom", to: "Unicorn hair", weight: 1, wand: "Unknown length, Unicorn hair, Cherry wood", note: "This wand was nice for Charm work." },
				{ from: "Quirinus Quirrell", to: "Unicorn hair", weight: 1, wand: "9\", Unicorn hair, Alder wood", note: "This wand was nice for Charm work." },
				{ from: "Ronald Weasley", to: "Unicorn hair", weight: 1, wand: "14\", Unicorn hair, Willow wood", note: "Purchased with his father's winnings from a Daily Prophet draw. Taken from him by Snatchers and replaced with Peter Pettigrew's wand." },
				{ from: "Tom Riddle", to: "Phoenix feather", weight: 1, wand: "13.5\", Phoenix feather, Yew wood", note: "This wand is brother to Harry Potter's wand — the core tail feathers are both from Fawkes." }
			]

			//calling the Sankey function
			var sankey_chart = anychart.sankey(data);

			// configure labels
			sankey_chart.node().labels().useHtml(true)
			sankey_chart.node().labels().format(
				"<span style='font-weight:bold'>{%name}</span>"
			)
			sankey_chart.flow().hovered().labels().enabled(false)
			sankey_chart.flow().normal().fill("#ffffff 0.4");
			sankey_chart.dropoff().normal().labels().enabled(true)
			sankey_chart.dropoff().labels().padding(10)
			sankey_chart.background().fill("black")

			// configure tooltips
			sankey_chart.node().tooltip().format("{%wand}\n\n{%note}")
			sankey_chart.flow().tooltip().format("{%wand}\n\n{%note}")

			sankey_chart.curveFactor(0)
			//customizing the width of the nodes
			sankey_chart.nodeWidth("25%")
			//setting the chart title
			sankey_chart.title("")
			//customizing the vertical padding of the nodes
			sankey_chart.nodePadding(5)
			//setting the container id
			sankey_chart.container("sankey")
			//initiating drawing the Sankey diagram
			sankey_chart.draw()

			var data_pie = [
				{ x: "Charm", value: 157, best1:"Accio (30)",  best2:"Expelliarmus (27)",best3: "Expecto patronum (25)",best4:"Stupefy (25)"},
				{ x: "Healing Spell", value: 3, best1:"Episkey (2)", best2:"Reparifors (0)", best3: "Vulnera Sanentur (0)", best4:"No more spell in that category"},
				{ x: "Conjuration", value: 7, best1:"Incarcerous (2)", best2:"Obscuro (1)", best3:"Orchideous (1)", best4:"Serpensortia (1)"},
				{ x: "Curse", value: 25 , best1:"Avada kedavra (22)",best3:"Crucio (14)", best2:"Imperio (15)", best4:"Petrificus totalus (10)"},
				{ x: "Hex", value: 21, best1:"Bat-Bogey Hex (1)", best2:"Bedazzling Hex (1)", best3:"Densaugeo (1)", best4:"Hurling Hex (1)"},
				{ x: "Transfiguration", value: 26, best1:"Switching Spell (4)", best2:"Badgering (2)", best3:"Evanesco (2)", best4:"Inanimatus Conjurus (2)"},
				{ x: "Jinx", value:31, best1:"Impedimenta (11)", best2:"Levicorpus (6)", best3:"Relashio (5)", best4:"Furnunculus (2)"},
				{ x: "Other", value: 14, best1:"Green Sparks (3)", best2:"Finite Incantatem (2)", best3:"Liberacorpus (2)", best4:"Point Me (2)"}
			]

			// create a chart and set the data
			chart = anychart.pie(data_pie);

			// set the container id
			chart.container("piechart")
			chart.background().fill("black")

			var tooltip = chart.tooltip()
		  	tooltip.format("{%value} spells casted in that category\n\nThe most used ones are:\n\t- {%best1}\n\t- {%best2}\n\t- {%best3}\n\t- {%best4}")

			// initiate drawing the chart
			chart.draw();
		});
	</script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.2.1/sigma.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.0.1/plugins/sigma.renderers.customShapes.min.js"
		integrity="sha512-aq73VTnmRtppJmMoDa567DjtQsbyMBtfEDdLGdU8EqqwOEO4ExH36KE7i9kjWdv9XTuMi9vHnrt9aw5nItTicw=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="text/javascript" src="js/char_networks.js"></script>
	<script type="text/javascript" src="js/spell_by_book.js"></script>
	<script type="text/javascript" src="js/books_movies_display.js"></script>
	<script type="text/javascript" src="js/wordcloud.js"></script>
	<script type="text/javascript" src="js/sentiment_analysis.js"></script>
	<script type="text/javascript" src="js/music.js"></script>
</body>

</html>
